1
00:00:00,560 --> 00:00:06,230
En esta sección trabajaremos en la paginación de nuestros productos en la página de Store.

2
00:00:06,710 --> 00:00:13,820
Básicamente, paginar significa agrupar una colección de registros y acceder a cada uno de estos grupos

3
00:00:13,820 --> 00:00:16,160
de resultados por un índice.

4
00:00:16,790 --> 00:00:24,320
Por ejemplo, actualmente tengo en mi base de datos 11 productos registrados, pero quisiera crear grupos

5
00:00:24,320 --> 00:00:28,070
de cinco, es decir, imaginarlos en grupos de cinco.

6
00:00:28,850 --> 00:00:34,070
Esto significaría que tendría tres grupos o si quieres llamarlo, tres páginas.

7
00:00:34,730 --> 00:00:38,600
De ahora en adelante a cada grupo le llamaremos página.

8
00:00:39,470 --> 00:00:46,280
La primera página tendría cinco elementos, la segunda también cinco elementos, mientras que la tercera

9
00:00:46,400 --> 00:00:50,180
tendría solo uno y completaría así el total de 11.

10
00:00:50,990 --> 00:00:59,090
Y para navegar entre estas páginas o grupos, utilizaríamos este control que ves en la parte inferior,

11
00:00:59,270 --> 00:01:03,530
que representa el número de página al cual quieres acceder.

12
00:01:04,790 --> 00:01:09,080
Estás listo entonces para trabajar en la paginación de productos de nuestro proyecto e-commerce?

13
00:01:09,770 --> 00:01:11,060
Bien, vayamos al código.

14
00:01:11,510 --> 00:01:15,890
Vamos a ubicarnos ahora dentro de la carpeta store en Atom.

15
00:01:16,400 --> 00:01:20,390
Y aquí aparece el archivo Buscar y vamos a abrirlo.

16
00:01:20,780 --> 00:01:23,080
Y aquí aparece también nuestro.

17
00:01:23,510 --> 00:01:25,400
Nuestra función de tipo Store.

18
00:01:26,920 --> 00:01:33,040
Antes de comenzar, vamos a agregar en la parte superior una referencia a una librería muy importante

19
00:01:33,040 --> 00:01:35,980
de Jango que me permite realizar la paginación.

20
00:01:37,010 --> 00:01:37,940
Voy a escribir entonces.

21
00:01:37,940 --> 00:01:41,720
From Daddy Yankee punto por punto.

22
00:01:42,140 --> 00:01:42,680
Chinatown.

23
00:01:43,160 --> 00:01:43,790
Chinatown.

24
00:01:45,690 --> 00:01:48,610
Y esto me va a importar al mpg.

25
00:01:51,020 --> 00:01:51,650
Peggy.

26
00:01:53,090 --> 00:01:54,740
Not a integer.

27
00:01:57,570 --> 00:01:58,950
Y también el patinador.

28
00:02:00,940 --> 00:02:01,870
Lo tenemos listo.

29
00:02:02,170 --> 00:02:02,440
Bien.

30
00:02:02,590 --> 00:02:04,390
Vayamos ahora a la función Store.

31
00:02:05,260 --> 00:02:12,490
Esta función tiene una condicional para indicarme si el category slug es diferente de vacío.

32
00:02:13,890 --> 00:02:21,030
Y si es vacío, entonces lo que yo estaba haciendo dentro de este DLC es que me retorne todos los productos.

33
00:02:22,590 --> 00:02:27,330
Todos los productos de la base de datos, que es justamente lo que está ocurriendo en este momento en

34
00:02:27,330 --> 00:02:28,260
mi página de Store.

35
00:02:28,530 --> 00:02:33,530
Estoy devolviendo todos los productos de la base de datos, pero ya no quiero que suceda así.

36
00:02:33,540 --> 00:02:34,860
Ahora quiero que lo página.

37
00:02:35,190 --> 00:02:38,100
Quiero que solamente me devuelva cinco productos.

38
00:02:38,760 --> 00:02:41,460
Porque recuerda, vamos a agrupar de cinco en cinco.

39
00:02:42,390 --> 00:02:44,400
Entonces vayamos otra vez a Heels.

40
00:02:44,430 --> 00:02:51,480
Voy a hacer este cambio en esta sección después de obtener este product product.

41
00:02:51,780 --> 00:02:54,510
Object Old Point Filter is Available True.

42
00:02:55,110 --> 00:02:58,470
Voy a llamar a una instancia del product del patinador.

43
00:03:00,790 --> 00:03:08,380
Este sujeto se llama patinador y viene desde la clase patinador que hemos declarado en la parte superior.

44
00:03:11,410 --> 00:03:14,200
Bien, entonces esto me va a pedir dos parámetros.

45
00:03:14,560 --> 00:03:18,040
Primeramente, el grupo o la colección que quiero paginar.

46
00:03:18,700 --> 00:03:22,330
Esta colección viene desde acá, es productos.

47
00:03:23,780 --> 00:03:25,470
Me paso ese parámetro products.

48
00:03:27,350 --> 00:03:31,040
Y el segundo parámetro es en grupos de cuánto quieres imaginarlo?

49
00:03:31,310 --> 00:03:33,500
Recuerdas lo que te dije en grupo de cinco.

50
00:03:33,920 --> 00:03:35,840
Entonces aquí le pongo cinco.

51
00:03:38,940 --> 00:03:45,900
Ahora también algo muy importante es cómo acceder a cada una de estas páginas o grupos que estás generando.

52
00:03:46,380 --> 00:03:47,520
Vas a tener tres grupos.

53
00:03:47,520 --> 00:03:53,790
Recuerdas un grupo de cinco, la página uno de un grupo de cinco de la página dos, grupo de cinco y

54
00:03:53,790 --> 00:03:56,640
la página tres que tendría solo un elemento.

55
00:03:57,150 --> 00:04:03,690
Entonces, si el usuario quisiera acceder a alguna de estas páginas, alguna de estas tres páginas que

56
00:04:03,690 --> 00:04:09,030
se están formando, tendría que enviarle este parámetro desde el browser.

57
00:04:09,240 --> 00:04:10,230
Cómo lo va a hacer?

58
00:04:11,130 --> 00:04:11,870
Es muy simple.

59
00:04:11,880 --> 00:04:13,890
Lo va a hacer a través de Laurel.

60
00:04:14,250 --> 00:04:15,270
Dentro de laurel.

61
00:04:15,510 --> 00:04:24,600
Le voy a mandar un parámetro que diga PH igual a uno si quiere acceder a la página uno y si quiere acceder

62
00:04:24,600 --> 00:04:27,300
a la página tres, le materia pH igual a tres.

63
00:04:29,060 --> 00:04:33,260
Entonces lo que tengo que hacer ahora, a continuación, es capturar este parámetro.

64
00:04:33,260 --> 00:04:34,430
Como lo voy a capturar?

65
00:04:35,470 --> 00:04:41,920
Volvemos al código y aquí vamos a declarar la variable que capture ese valor desde la variable.

66
00:04:42,250 --> 00:04:44,560
Para capturarlo tengo que llamar al objeto request.

67
00:04:46,280 --> 00:04:47,240
Al método GET.

68
00:04:48,540 --> 00:04:53,720
Y luego a su función, que también de aquí le indicó cuál es el nombre del parámetro en la variable

69
00:04:53,730 --> 00:04:54,600
que quieres acceder.

70
00:04:56,390 --> 00:04:58,700
Mientras le pongo pecho de esta forma.

71
00:04:58,710 --> 00:05:02,570
Entonces ya sé a qué página quiere acceder el cliente.

72
00:05:05,430 --> 00:05:11,180
A continuación, voy a indicarle ahora que me envíe esa lista de páginas.

73
00:05:11,190 --> 00:05:11,810
Esa sí.

74
00:05:11,820 --> 00:05:14,070
Por ejemplo, estamos hablando de la página uno.

75
00:05:14,550 --> 00:05:16,980
Que me envíe esos cinco productos.

76
00:05:18,690 --> 00:05:25,110
Por eso le pongo Peach Product igual a patinador, porque ahora quien tiene los productos es patinador.

77
00:05:26,340 --> 00:05:27,630
Punto GPG.

78
00:05:30,660 --> 00:05:32,620
Y aquí le paso el objeto.

79
00:05:34,010 --> 00:05:34,640
De esta forma.

80
00:05:34,640 --> 00:05:41,000
Entonces este PG Products va a representar cinco productos, sólo cinco productos.

81
00:05:43,660 --> 00:05:45,050
También voy a tener aquí el Skype.

82
00:05:45,070 --> 00:05:46,300
Eso no lo voy a modificar.

83
00:05:46,960 --> 00:05:50,560
Y ahora lo que voy a hacer es lo siguiente voy a agarrar el Page Products.

84
00:05:53,230 --> 00:05:55,910
De aquí dentro del diccionario que es contex.

85
00:05:55,930 --> 00:05:58,170
Está vendiéndole Products Products.

86
00:05:58,540 --> 00:06:00,160
En vez de este resultado, products.

87
00:06:00,250 --> 00:06:00,940
Lo voy a quitar.

88
00:06:01,480 --> 00:06:04,540
Le voy a indicar ahora que me envíe el Page Products.

89
00:06:06,230 --> 00:06:07,450
Vamos a borrar los cambios.

90
00:06:07,490 --> 00:06:10,430
Menú false all y vamos a probar.

91
00:06:11,740 --> 00:06:12,730
Estamos en la página.

92
00:06:12,760 --> 00:06:13,660
Voy a refrescar.

93
00:06:14,650 --> 00:06:19,210
Y mira, ahora ya me está devolviendo solo cinco productos.

94
00:06:19,210 --> 00:06:19,930
Te das cuenta?

95
00:06:20,530 --> 00:06:21,780
Ya me está arruinando.

96
00:06:21,850 --> 00:06:23,410
Solo me devuelve cinco productos.

97
00:06:24,100 --> 00:06:25,000
Mira, profesor.

98
00:06:25,030 --> 00:06:25,630
Estás seguro?

99
00:06:25,660 --> 00:06:25,960
Sí.

100
00:06:26,560 --> 00:06:27,770
Por qué no hacemos otra cosa?

101
00:06:27,790 --> 00:06:30,040
Quiero que me devuelva ahora solamente dos.

102
00:06:31,170 --> 00:06:32,730
Entonces volvemos al código.

103
00:06:32,940 --> 00:06:39,180
Aquí y en la sección del páginas por página de 3,525 le voy a colocar coma dos.

104
00:06:40,620 --> 00:06:41,730
Guardamos los cambios.

105
00:06:43,170 --> 00:06:44,190
Estamos en la página.

106
00:06:44,220 --> 00:06:45,090
Voy a refrescar.

107
00:06:46,110 --> 00:06:49,890
Y mira, ya me está devolviendo solo dos elementos.

108
00:06:50,580 --> 00:06:54,090
Ahora me dirás profesor, pero estos elementos que está devolviendo cuales son?

109
00:06:54,420 --> 00:06:56,390
Son por defecto de la página uno.

110
00:06:57,060 --> 00:06:57,690
Profesor.

111
00:06:57,690 --> 00:06:59,560
Y si quiero que me devuelva a la página dos?

112
00:06:59,590 --> 00:06:59,880
Ah.

113
00:06:59,880 --> 00:07:00,930
Recuerdas lo que te dije?

114
00:07:01,260 --> 00:07:04,260
Que tienes que pasarle el parámetro en la variable.

115
00:07:04,470 --> 00:07:08,100
Bueno, entonces quiero que ahora me devuelva los elementos de la página dos.

116
00:07:09,450 --> 00:07:12,380
Entonces arriba le pongo después de letras.

117
00:07:12,930 --> 00:07:13,920
Signo de interrogación.

118
00:07:14,550 --> 00:07:15,060
Pech.

119
00:07:16,490 --> 00:07:18,980
Y quiero que me devuelva el grupo de la página dos.

120
00:07:19,880 --> 00:07:20,330
A entrar.

121
00:07:20,690 --> 00:07:22,090
Y mira lo que ha sucedido.

122
00:07:22,100 --> 00:07:25,160
Ya me está devolviendo los grupos de la página dos.

123
00:07:27,110 --> 00:07:32,060
Pero vamos a volver a indicarle en el código que me agrupe de cinco en cinco.

124
00:07:32,720 --> 00:07:33,980
Voy a borrar los cambios.

125
00:07:36,660 --> 00:07:41,010
Volvemos a la página y solamente quiero que me devuelva por defecto al a la página uno.

126
00:07:41,790 --> 00:07:44,820
Continuamos trabajando en el página en el siguiente capítulo.

1
00:00:00,390 --> 00:00:05,670
Hemos estado trabajando siempre en la sesión del usuario, pero quiero mostrarte un pequeño error que

2
00:00:05,670 --> 00:00:08,310
se está presentando cuando no estás en sesión.

3
00:00:08,430 --> 00:00:12,780
En este momento estoy en mi sesión de y tres con el usuario que se llama Nestor.

4
00:00:13,200 --> 00:00:14,340
Voy a salir de la sesión.

5
00:00:15,870 --> 00:00:16,230
Esto.

6
00:00:16,560 --> 00:00:20,280
Vamos a la tienda nuevamente y voy a escoger un producto o cualquier producto.

7
00:00:20,280 --> 00:00:21,390
Por ejemplo, este es phones.

8
00:00:22,490 --> 00:00:23,690
Y mira lo que está pasando aquí.

9
00:00:24,320 --> 00:00:27,200
Me está indicando que un anónimo user is not integrable.

10
00:00:28,010 --> 00:00:34,810
Tengo un problema dentro de la función que me trae lo que es el producto detalle para solucionarlo.

11
00:00:34,820 --> 00:00:42,810
Vamos entonces hacia Store, la carpeta Store y ahora a buscar PY y vamos a buscar aquí la función Product.

12
00:00:43,040 --> 00:00:43,460
Aquí está.

13
00:00:44,360 --> 00:00:45,730
Esta es la función protected.

14
00:00:47,090 --> 00:00:51,470
Lo que está sucediendo es que estoy haciendo dentro de este tres step.

15
00:00:52,400 --> 00:00:56,330
La consulta del producto, pero lo estoy haciendo directamente sobre.

16
00:00:57,760 --> 00:00:59,170
La consulta alrededor del producto.

17
00:00:59,320 --> 00:01:00,430
La estoy haciendo sobre.

18
00:01:01,470 --> 00:01:02,940
El user request user.

19
00:01:02,940 --> 00:01:07,470
Pero si este user es un usuario que no está logueado, es un usuario anónimo.

20
00:01:07,800 --> 00:01:10,200
Esto se me va a caer por completo.

21
00:01:10,980 --> 00:01:16,530
Entonces, antes de entrar a este tres sep para hacer la búsqueda del order producto, lo que voy a

22
00:01:16,530 --> 00:01:18,960
hacer es primero condicionarlo.

23
00:01:18,960 --> 00:01:21,990
Voy a hacer un if request user.

24
00:01:22,620 --> 00:01:23,130
Punto.

25
00:01:24,390 --> 00:01:26,940
Aquí le voy a poner la función es autenticar.

26
00:01:30,740 --> 00:01:31,070
Esto.

27
00:01:32,090 --> 00:01:35,810
Si esto es correcto, entonces que me ejecute esta función.

28
00:01:37,140 --> 00:01:39,270
Por eso voy a seleccionarla y le pongo un tab.

29
00:01:41,620 --> 00:01:43,090
Pero en caso contrario.

30
00:01:44,200 --> 00:01:46,330
En caso contrario, vamos a colocarlo aquí.

31
00:01:48,360 --> 00:01:50,400
Dos puntos que diga que el orden.

32
00:01:53,410 --> 00:01:54,190
Es igual anoche.

33
00:01:55,440 --> 00:01:58,590
Vamos a revisar la condición y autenticidad.

34
00:01:58,620 --> 00:02:01,170
A Mira quién me faltó en vez de la de esta es una T.

35
00:02:01,560 --> 00:02:03,780
Ahora sí voy a borrar los cambios.

36
00:02:03,780 --> 00:02:05,160
Me bufa el Seol.

37
00:02:06,220 --> 00:02:08,440
Vamos a la página, refrescamos.

38
00:02:08,440 --> 00:02:11,110
Y ahora si ya está trabajando sin problemas.

39
00:02:11,710 --> 00:02:15,340
Para usuarios anónimos que no están registrados.

40
00:02:16,470 --> 00:02:18,150
Continuamos en el siguiente capítulo.

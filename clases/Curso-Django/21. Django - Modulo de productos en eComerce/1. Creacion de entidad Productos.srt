1
00:00:00,420 --> 00:00:04,560
En este capítulo vamos a comenzar a trabajar el mantenimiento de los productos.

2
00:00:04,590 --> 00:00:09,150
Para esto vamos a crear una nueva app que vamos a llamar Store.

3
00:00:10,210 --> 00:00:11,500
Primero vamos a nuestro shell.

4
00:00:11,500 --> 00:00:14,350
Como puede ver, el shell está ejecutando el servidor de Jango.

5
00:00:15,070 --> 00:00:15,910
Voy a detenerlo.

6
00:00:17,210 --> 00:00:18,950
Limpió la consola con el comando clear.

7
00:00:19,250 --> 00:00:24,920
Y ahora vamos a escribir este comando para crear una nueva app dentro de nuestro proyecto Jango.

8
00:00:25,490 --> 00:00:30,620
Vamos a escribir Python, Espacio Manager, Punto Pi y Espacio Start up.

9
00:00:32,440 --> 00:00:33,730
Espacio Store.

10
00:00:34,670 --> 00:00:35,460
Y le enter.

11
00:00:37,770 --> 00:00:38,430
Se ha generado.

12
00:00:38,430 --> 00:00:39,360
Vamos a abrir, Hatton.

13
00:00:39,780 --> 00:00:40,950
Estamos en el proyecto.

14
00:00:40,950 --> 00:00:44,010
Aquí ya aparece, como puedes ver, la carpeta Store.

15
00:00:44,400 --> 00:00:49,890
Lo que tenemos que hacer a continuación es registrar esta nueva app dentro de nuestro proyecto eCommerce.

16
00:00:50,070 --> 00:00:54,180
Abrimos la carpeta eCommerce y aquí aparece el Service punto Pin.

17
00:00:54,420 --> 00:00:55,560
Vamos a abrir el archivo.

18
00:00:56,630 --> 00:00:58,190
Y buscamos la propiedad.

19
00:00:58,190 --> 00:01:00,290
Instale It Up Apps.

20
00:01:01,600 --> 00:01:01,900
Aquí.

21
00:01:01,900 --> 00:01:08,200
Después de Account le voy a escribir el nombre de mi nueva app que se llama Store, con una coma siempre

22
00:01:08,200 --> 00:01:08,740
al final.

23
00:01:09,760 --> 00:01:16,360
Y ahora vamos a crear la estructura de esta clase, de una clase que representa producto al interior

24
00:01:16,360 --> 00:01:18,370
de mi App Store.

25
00:01:18,910 --> 00:01:24,880
Estamos dentro de la carpeta Store y vamos al archivo Models y lo hemos abierto.

26
00:01:26,010 --> 00:01:26,400
De aquí.

27
00:01:26,400 --> 00:01:28,860
Vamos a hacer un class product.

28
00:01:31,680 --> 00:01:35,370
Yo recibo como parámetro el modelo de punto.

29
00:01:36,740 --> 00:01:37,250
Motel.

30
00:01:39,180 --> 00:01:44,530
Dos puntos al final del paréntesis y comenzamos a escribir las propiedades Product name, el nombre

31
00:01:44,530 --> 00:01:50,580
de producto que va a ser igual a Models, punto Chart Field.

32
00:01:52,650 --> 00:01:54,390
Podemos acá Max Link.

33
00:01:56,750 --> 00:02:00,260
200 y le digo que va a ser Tunick.

34
00:02:01,070 --> 00:02:01,580
Entre.

35
00:02:03,470 --> 00:02:03,920
Lo tenemos.

36
00:02:03,920 --> 00:02:04,400
Listos?

37
00:02:04,790 --> 00:02:05,550
Vamos con el siguiente.

38
00:02:05,570 --> 00:02:07,910
Voy a copiar esta propiedad para hacerlo más rápido.

39
00:02:09,980 --> 00:02:13,040
A continuación, vamos a hacer el lunch.

40
00:02:16,430 --> 00:02:19,360
También va a ser un más de 200 unique.

41
00:02:19,400 --> 00:02:19,700
Entre.

42
00:02:21,330 --> 00:02:24,480
Vamos a copiar otra y esta se va a llamar descripción.

43
00:02:27,370 --> 00:02:28,930
Description hemos.

44
00:02:30,080 --> 00:02:36,110
Este va a ser un Richard Field, sino va a ser un tipo Matters punto Tex Field.

45
00:02:37,780 --> 00:02:38,670
Max Plant.

46
00:02:38,770 --> 00:02:40,270
Le voy a poner 500.

47
00:02:42,530 --> 00:02:46,280
Y Blank and True ya no tiene el Unix y no va a ser un Blank.

48
00:02:46,580 --> 00:02:46,950
Entró.

49
00:02:47,840 --> 00:02:48,440
Puede ser.

50
00:02:48,830 --> 00:02:50,060
Puede tener valores nulos.

51
00:02:50,300 --> 00:02:50,690
Listo.

52
00:02:51,230 --> 00:02:52,000
Continuemos.

53
00:02:52,070 --> 00:02:52,880
El siguiente.

54
00:02:52,910 --> 00:02:54,080
Voy a copiar esta línea.

55
00:02:55,570 --> 00:02:56,920
Es el precio del producto.

56
00:02:56,920 --> 00:02:58,600
En inglés precio significa prisa.

57
00:02:59,920 --> 00:03:02,920
Models to integer field.

58
00:03:06,660 --> 00:03:07,830
Esto no tiene parámetros.

59
00:03:09,590 --> 00:03:10,460
Continuemos.

60
00:03:10,520 --> 00:03:11,960
Ahora, para las imágenes.

61
00:03:14,100 --> 00:03:19,560
Que vamos a poner images, models y Maxfield.

62
00:03:23,260 --> 00:03:24,010
De Mansfield.

63
00:03:24,400 --> 00:03:25,690
Y aquí le tengo que indicar.

64
00:03:27,050 --> 00:03:28,640
El atributo upload.

65
00:03:28,640 --> 00:03:31,280
El parámetro habló a tu igual.

66
00:03:31,970 --> 00:03:37,580
Esto viene desde fotos ese las products.

67
00:03:39,400 --> 00:03:40,060
No tenemos.

68
00:03:41,180 --> 00:03:43,550
También vamos a crear otro para el stock.

69
00:03:43,790 --> 00:03:46,370
Voy a copiar esta línea del Price porque es muy similar para el stocks.

70
00:03:47,680 --> 00:03:50,470
Pero ponemos stop y es un integer field.

71
00:03:53,260 --> 00:03:58,090
A continuación otra propiedad que represente si el producto está habilitado.

72
00:03:59,720 --> 00:04:00,590
Es bailable.

73
00:04:00,630 --> 00:04:02,600
Le vas a poner en inglés, Abbey?

74
00:04:04,950 --> 00:04:05,160
Como.

75
00:04:07,020 --> 00:04:09,270
Y como es un valor booleano puede ser true false.

76
00:04:09,300 --> 00:04:11,850
Le voy a poner boolean field.

77
00:04:14,480 --> 00:04:17,120
Y por defecto le voy a indicar que el valor sea true.

78
00:04:20,200 --> 00:04:25,270
También el producto tiene una relación cada estructura con la tabla categoría.

79
00:04:25,720 --> 00:04:29,770
Entonces aquí voy a crear una categoría como si fuera una clave foránea.

80
00:04:30,740 --> 00:04:32,210
Si lo digo Models.

81
00:04:32,990 --> 00:04:33,620
Punto.

82
00:04:35,020 --> 00:04:35,590
Foreign.

83
00:04:36,220 --> 00:04:36,530
Qué?

84
00:04:40,300 --> 00:04:42,880
Y le digo que se relacione con la estructura de categoría.

85
00:04:44,730 --> 00:04:50,730
Y cuando se elimine una categoría, quiero que se ejecute un proceso de cascada que también elimine

86
00:04:51,510 --> 00:04:54,360
los productos relacionados a esta categoría.

87
00:04:54,690 --> 00:04:59,280
Por eso le pongo el ID igual a Models, punto Cascade.

88
00:05:02,860 --> 00:05:04,020
Pero aquí tenemos un detalle.

89
00:05:04,030 --> 00:05:06,340
Estoy invocando aquí a Category.

90
00:05:06,610 --> 00:05:09,070
Significa que tengo que importarlo en la parte superior.

91
00:05:10,550 --> 00:05:16,790
Así que con lo que fueron category models import category.

92
00:05:17,750 --> 00:05:19,340
De lo contrario, si no hago esto, es malo.

93
00:05:19,340 --> 00:05:19,790
Errores.

94
00:05:20,210 --> 00:05:22,560
Ten mucho cuidado con la sintaxis.

95
00:05:22,580 --> 00:05:25,010
Respeta las mayúsculas y minúsculas.

96
00:05:25,790 --> 00:05:26,720
Vamos con el siguiente.

97
00:05:27,350 --> 00:05:28,730
Voy a copiar este stok.

98
00:05:29,830 --> 00:05:33,400
Y ahora voy a crear un nuevo tributo para la fecha de creación.

99
00:05:33,760 --> 00:05:34,090
Date.

100
00:05:35,690 --> 00:05:37,250
Y este sería un motel.

101
00:05:39,960 --> 00:05:42,090
De Time Field.

102
00:05:43,890 --> 00:05:52,500
Y le digo que este va a ser un autónomo autónomo, autónomo AT igual a TRUE, se va a generar la fecha

103
00:05:52,500 --> 00:05:54,990
de creación de un nuevo récord de producto.

104
00:05:56,170 --> 00:06:02,260
Vamos ahora a hacer lo mismo con otra propiedad, que va a ser la fecha de modificación del producto.

105
00:06:02,740 --> 00:06:09,160
Entonces en vez de create le vamos a poner acá modified modified es la raya para abajo.

106
00:06:09,190 --> 00:06:11,680
Date models, punto DateTime Field.

107
00:06:11,830 --> 00:06:16,270
Pero aquí va a cambiar, porque ya no va a ser un auto AT, sino solo un auto nuevo.

108
00:06:17,140 --> 00:06:18,940
Listo, igual a true.

109
00:06:20,290 --> 00:06:21,100
Lo tenemos.

110
00:06:21,340 --> 00:06:25,750
Bien, ahora recuerda que también siempre definimos una función de tipo def.

111
00:06:26,940 --> 00:06:28,770
Dos rayas para abajo STR.

112
00:06:28,830 --> 00:06:30,090
Dos rayas para abajo.

113
00:06:30,810 --> 00:06:31,380
Surf.

114
00:06:32,550 --> 00:06:33,360
Qué me permite?

115
00:06:33,360 --> 00:06:33,590
Aquí?

116
00:06:33,600 --> 00:06:40,680
Dos puntos que me permite listar los productos por un nombre, un label específico.

117
00:06:41,070 --> 00:06:45,810
En este caso que quiero listar los dentro del grid en la tabla utilizando el nombre del producto.

118
00:06:46,260 --> 00:06:51,240
Por eso voy a hacer un resumen self punto product name.

119
00:06:52,720 --> 00:06:53,140
Listo.

120
00:06:53,710 --> 00:06:58,720
Entonces, de esta manera ya hemos definido la estructura que representa al producto.

121
00:06:58,930 --> 00:06:59,560
Voy a darle el menú.

122
00:06:59,610 --> 00:07:00,580
Falstaff Safe all.

123
00:07:01,660 --> 00:07:03,730
Y ahora vamos al archivo.

124
00:07:05,460 --> 00:07:06,780
Admin Punto Pi.

125
00:07:07,600 --> 00:07:12,690
Aquí vamos a registrar esta nueva entidad, así que hacemos un front primero importamos de la entidad

126
00:07:12,690 --> 00:07:15,450
from models import.

127
00:07:17,400 --> 00:07:19,460
Que importe a producto produc.

128
00:07:20,560 --> 00:07:21,490
De mucho cuidado.

129
00:07:22,060 --> 00:07:22,550
Listo.

130
00:07:22,570 --> 00:07:22,860
Ahora.

131
00:07:23,050 --> 00:07:29,710
Creamos una clase primeramente que me permita agregarle ciertas propiedades de alistar a los productos

132
00:07:29,710 --> 00:07:31,900
dentro del grid de administración de Jango.

133
00:07:32,830 --> 00:07:41,440
Entonces aquí le voy a poner Product Admin y pase como parámetro el admin punto model admin.

134
00:07:43,570 --> 00:07:44,320
Dos puntos.

135
00:07:45,300 --> 00:07:50,940
Aquí le digo que cuáles son los campos que quiero listar dentro del Grid Display?

136
00:07:51,390 --> 00:07:54,780
Indicar que quiero listar al Product name.

137
00:07:56,790 --> 00:07:57,810
También al Prix.

138
00:08:00,670 --> 00:08:02,440
También quiero listar al stock.

139
00:08:04,560 --> 00:08:05,760
También al category.

140
00:08:08,030 --> 00:08:12,290
También al modifi date la fecha de modificación del producto.

141
00:08:14,190 --> 00:08:17,940
Y también si el producto está habilitado o no es aplicable.

142
00:08:20,390 --> 00:08:26,600
También podemos indicarle como quiero llenar ciertos campos a otros, generar ciertos campos.

143
00:08:26,630 --> 00:08:31,910
Recuerdas que hicimos lo mismo para categoría que el nombre de la categoría instantáneamente se tome

144
00:08:31,910 --> 00:08:33,620
para llenar la propiedad de Slug?

145
00:08:34,130 --> 00:08:35,300
Aquí va a ser muy similar.

146
00:08:35,750 --> 00:08:39,890
Voy a hacer lo mismo para el Slug del producto, pero por tipo.

147
00:08:43,420 --> 00:08:43,990
Fields.

148
00:08:48,200 --> 00:08:52,400
Y entre llaves le indico que es lo que se va a llenar desde.

149
00:08:54,280 --> 00:08:57,250
El product name hay que revisarlo bien.

150
00:08:57,250 --> 00:09:00,310
Este comando pri late feels.

151
00:09:04,160 --> 00:09:04,580
Listo?

152
00:09:04,790 --> 00:09:05,430
Perfecto.

153
00:09:05,520 --> 00:09:11,120
Bien, una vez que ya tengo todo esta clase de lista, ahora registro a la entidad, hago un admin.

154
00:09:12,880 --> 00:09:13,840
Punto register.

155
00:09:14,080 --> 00:09:21,160
Yo agrego al nuevo class product listo y tambien le agrego el product admin que tiene esas configuraciones

156
00:09:21,160 --> 00:09:23,590
que yo quiero para el dashboard Product admin.

157
00:09:25,200 --> 00:09:25,970
Eso sería todo.

158
00:09:25,980 --> 00:09:28,260
Vamos a borrar los cambios de del Safe Hall.

159
00:09:28,770 --> 00:09:31,140
Vamos a abrir ahora el Bash.

160
00:09:32,440 --> 00:09:39,220
Y en el valle voy a escribir este comando Python Espacio Management, espacio make missions para que

161
00:09:39,220 --> 00:09:40,780
me genere los archivos de migración.

162
00:09:42,010 --> 00:09:42,880
Le damos enter.

163
00:09:43,960 --> 00:09:49,030
Aquí me aparece que hay un pequeño problema con el Fields Slug.

164
00:09:50,170 --> 00:09:50,290
Sí.

165
00:09:50,490 --> 00:09:53,250
Ya puedo ver el problema aquí en este Fields.

166
00:09:54,150 --> 00:09:57,250
Le he colocado el producto naive, pero aquí mira el logo del apóstrofe.

167
00:09:57,270 --> 00:10:01,920
Me faltó colocarle una coma después del apóstrofe y antes del paréntesis.

168
00:10:02,490 --> 00:10:05,900
Ahora sí vamos a borrar nuevamente los cambios del Al.

169
00:10:07,670 --> 00:10:14,420
Y nuevamente voy a tratar de ejecutar este Python Manage y espacio make make migration.

170
00:10:15,170 --> 00:10:15,980
Le damos enter.

171
00:10:17,390 --> 00:10:24,490
Y esta vez ya me generó la nueva, el nuevo modelo de tipo de producto en el archivo 001 initial punto

172
00:10:24,500 --> 00:10:24,980
pi y.

173
00:10:26,230 --> 00:10:31,870
Y a continuación, lo que tenemos que hacer es ejecutar ese archivo que he generado de migración.

174
00:10:31,870 --> 00:10:35,870
Para ejecutarlo utilizo el Python espacio management y espacio mi create.

175
00:10:35,980 --> 00:10:38,110
Ya lo escribí aquí le vamos a dar enter.

176
00:10:40,350 --> 00:10:42,240
Y ya se generó sin ningún problema.

177
00:10:42,420 --> 00:10:45,600
Entonces vamos a ejecutar nuestro servidor de Django.

178
00:10:46,780 --> 00:10:49,750
He escrito el Peyton manager de Zoidberg.

179
00:10:49,780 --> 00:10:50,160
Listo.

180
00:10:50,170 --> 00:10:50,830
Lo ejecutamos.

181
00:10:50,830 --> 00:10:52,210
Vamos a servir ahora un browser.

182
00:10:53,540 --> 00:10:57,320
Y si vamos a los 8000 es admin y actualizamos.

183
00:10:58,420 --> 00:11:00,340
Aquí ya aparece Products.

184
00:11:00,370 --> 00:11:05,230
Le damos a la clica Products y puedes ver que ya me aparece el dato, pero por ahora no tengo ningún

185
00:11:05,230 --> 00:11:05,770
producto.

186
00:11:06,880 --> 00:11:10,930
En el siguiente capítulo vamos a trabajar en el llenado del producto dentro de esta tabla.

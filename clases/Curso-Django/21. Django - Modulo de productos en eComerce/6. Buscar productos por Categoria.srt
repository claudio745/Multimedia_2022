1
00:00:00,450 --> 00:00:05,730
En este capítulo vamos a seguir trabajando en la página de Store, pero ahora vamos a aplicar filtros

2
00:00:05,970 --> 00:00:08,140
dependiendo de la categoría.

3
00:00:08,200 --> 00:00:14,430
Si por ejemplo, pongo una categoría que represente, vamos a ver un momento a accesorios stretch.

4
00:00:15,560 --> 00:00:18,920
Ok, entonces le voy a tener que pasar este slug.

5
00:00:19,220 --> 00:00:19,870
Voy a ponerle.

6
00:00:19,880 --> 00:00:23,330
Voy a copiar esto aquí después del Slash Store.

7
00:00:24,530 --> 00:00:25,340
Accesorio Stretch.

8
00:00:25,700 --> 00:00:34,670
Al pasarle esto lo que debería hacer es el chango tomar este parámetro que representa el slug y en base

9
00:00:34,670 --> 00:00:41,630
a esto buscar todos los productos que concuerden con esta categoría y luego desplegarlo dentro de esta

10
00:00:41,630 --> 00:00:42,170
página.

11
00:00:44,790 --> 00:00:46,620
Para trabajar esta funcionalidad.

12
00:00:46,830 --> 00:00:50,280
Vayamos entonces a nuestra aplicación de Store.

13
00:00:50,420 --> 00:00:51,360
Estoy dentro de Store.

14
00:00:51,660 --> 00:00:54,000
Y ahora dentro del tercer y.

15
00:00:55,140 --> 00:00:59,460
Y aquí en el WHERE Patterns vamos a agregar un nuevo pad dinámico.

16
00:01:01,330 --> 00:01:03,490
Y este va a ser en este caso.

17
00:01:04,510 --> 00:01:05,500
Entre apóstrofes.

18
00:01:07,920 --> 00:01:08,490
Aumentó.

19
00:01:10,860 --> 00:01:11,430
Es Luke.

20
00:01:14,500 --> 00:01:15,220
Y este look.

21
00:01:15,220 --> 00:01:18,550
Este look se ha basado en Queen, en el category es look.

22
00:01:22,680 --> 00:01:24,090
Tomando el Bus Store.

23
00:01:24,210 --> 00:01:25,440
Aquí es donde va a procesar.

24
00:01:26,390 --> 00:01:30,590
Y el nombre de este nuevo function que va a procesar este pedido.

25
00:01:31,900 --> 00:01:35,650
Va a ser uno que se va a llamar Product Buy Category.

26
00:01:38,220 --> 00:01:43,230
Pero por ahora vamos a trabajarlo en la función store, así que no te preocupes.

27
00:01:43,260 --> 00:01:46,320
Vayamos entonces ahora al archivo bus.

28
00:01:47,890 --> 00:01:48,310
Pi.

29
00:01:49,480 --> 00:01:51,880
Aquí aparece esta función de store.

30
00:01:52,120 --> 00:01:53,650
Vamos a hacer algunos cambios.

31
00:01:53,830 --> 00:01:57,280
Lo primero es que este va a trabajar con una categoría.

32
00:01:57,280 --> 00:02:04,300
Entonces voy a importar esta categoría Model o categoría Punto Models Import.

33
00:02:05,520 --> 00:02:06,120
Category.

34
00:02:07,390 --> 00:02:12,700
Esto también voy a modificar la lista de parámetros que tengo dentro del gestor.

35
00:02:13,810 --> 00:02:19,500
Vamos a colocarle que venga con un request y también va a tener un category.

36
00:02:19,530 --> 00:02:21,110
Es lag, es.

37
00:02:23,990 --> 00:02:26,960
Que por ahora le vamos a poner en None.

38
00:02:28,430 --> 00:02:29,300
Como inicializando.

39
00:02:29,750 --> 00:02:30,200
Listo.

40
00:02:33,020 --> 00:02:40,280
Vamos a acondicionar ahora la consulta de productos, dependiendo si esta consulta viene filtrada por

41
00:02:40,280 --> 00:02:41,540
el tipo de categoría.

42
00:02:42,020 --> 00:02:47,940
Por eso vamos a inicializar esta variable categorías que representa la lista de categorías.

43
00:02:47,960 --> 00:02:52,040
Por ahora le pongo None y también los productos products.

44
00:02:53,180 --> 00:02:54,740
También Luisa lo hizo en Noni.

45
00:02:55,220 --> 00:02:57,590
Y ahora voy a aplicar una condición.

46
00:02:58,610 --> 00:03:02,240
Le digo si category slow.

47
00:03:04,340 --> 00:03:05,110
Es diferente.

48
00:03:07,140 --> 00:03:09,510
Es decir que tiene un valor.

49
00:03:09,510 --> 00:03:10,350
Y laurel.

50
00:03:12,120 --> 00:03:13,360
Como por ejemplo este.

51
00:03:13,380 --> 00:03:15,990
Este es el Slug que estoy hablando del acceso al status.

52
00:03:16,290 --> 00:03:19,410
Este es el valor que va a ingresar como parámetro a la función.

53
00:03:20,760 --> 00:03:23,680
Y es justamente ese valor el que soy condicionando acá.

54
00:03:23,910 --> 00:03:29,870
Si no es nulo, o sea que si tiene un slug para filtrar, entonces aplique esta lógica.

55
00:03:29,880 --> 00:03:34,170
Le voy a decir que en ese caso Categorías va a ser igual a Get Object.

56
00:03:34,560 --> 00:03:36,030
Esto es una función del.

57
00:03:37,040 --> 00:03:39,290
Del Python get up the jungle.

58
00:03:39,530 --> 00:03:40,730
Get up check or.

59
00:03:41,710 --> 00:03:42,610
For cero for.

60
00:03:45,430 --> 00:03:47,590
Y le paso el category.

61
00:03:49,090 --> 00:03:53,170
Y también les digo que el slug va a ser igual al category.

62
00:03:55,190 --> 00:03:55,400
Es.

63
00:03:56,700 --> 00:04:04,470
Este representa un campo de la tabla categoría que está haciendo la comparación contra el parámetro

64
00:04:04,470 --> 00:04:05,060
category.

65
00:04:05,070 --> 00:04:09,300
Es look que definiste en la parte superior que viene desde el RL.

66
00:04:10,540 --> 00:04:14,920
Y esta función lo que está indicando es si encuentra la categoría.

67
00:04:14,920 --> 00:04:22,370
Entonces vamos a listar la colección de categorías que devuelva en este objeto esta variable categoría.

68
00:04:22,660 --> 00:04:26,380
En caso contrario, va a disparar una excepción de tipo 404.

69
00:04:28,460 --> 00:04:29,390
Ahora continuamos.

70
00:04:29,420 --> 00:04:30,830
Voy a hacer hora para productos.

71
00:04:30,830 --> 00:04:31,330
Productos?

72
00:04:31,340 --> 00:04:32,600
Va a ser igual a produc.

73
00:04:33,610 --> 00:04:36,820
Paint object object filter.

74
00:04:38,930 --> 00:04:41,480
De aquí la condición va a ser con otra categoría.

75
00:04:41,840 --> 00:04:43,820
Entonces le voy a poner aquí Category.

76
00:04:44,840 --> 00:04:47,240
Con mayúscula, a minúscula, minúscula.

77
00:04:47,390 --> 00:04:48,170
Hay que tener cuidado aquí.

78
00:04:48,470 --> 00:04:51,510
Category igual a categories.

79
00:04:52,100 --> 00:04:54,230
El objeto que estoy obteniendo de esta línea.

80
00:04:56,100 --> 00:04:56,580
Coma.

81
00:04:56,580 --> 00:05:00,840
Y también otra condición que quiero es que esté el producto habilitado.

82
00:05:00,840 --> 00:05:03,750
Por eso le pongo is available igual a true.

83
00:05:06,760 --> 00:05:14,110
También necesito saber la cantidad de productos de esta condición, así que le pongo product count va

84
00:05:14,110 --> 00:05:15,280
a ser igual a Products.

85
00:05:16,510 --> 00:05:17,380
Punto Count.

86
00:05:19,590 --> 00:05:20,190
Listo.

87
00:05:20,610 --> 00:05:21,660
Bien, esto va a suceder.

88
00:05:21,690 --> 00:05:27,450
Siempre y cuando esté enviando el parámetro de la categoría en la URL.

89
00:05:27,750 --> 00:05:31,110
En caso contrario, els dos puntos.

90
00:05:31,950 --> 00:05:36,840
Lo que quiero es que se ejecute mi versión anterior, que estas dos líneas se ejecuten.

91
00:05:36,840 --> 00:05:39,270
Voy a cortarlas y las pongo acá.

92
00:05:39,390 --> 00:05:41,640
Vamos a ponerle un tab listo.

93
00:05:43,650 --> 00:05:48,140
Que más bien lo que quiero mandar enviar dentro del contexto se va a mantener.

94
00:05:48,150 --> 00:05:53,250
Quiero que por el momento solamente me envíe el producto y el count.

95
00:05:53,790 --> 00:05:54,780
Eso sería todo.

96
00:05:55,110 --> 00:05:56,520
Vamos a guardar los cambios.

97
00:05:56,520 --> 00:05:58,080
Menú Field Save all.

98
00:06:00,610 --> 00:06:01,960
Estoy dentro de la página.

99
00:06:02,870 --> 00:06:07,810
Aquí voy a pasarle para que me busque aquellos que tengan la categoría de accesorio Stitch.

100
00:06:07,840 --> 00:06:08,800
Le voy a dar un enter.

101
00:06:09,900 --> 00:06:18,970
Y aquí me está mandando un problema si no he definido la función Get Object or for 404, volvemos al

102
00:06:18,970 --> 00:06:24,340
archivo views del store y en la parte superior claro a que me faltó?

103
00:06:24,790 --> 00:06:27,970
Dentro de Jack Chord Katz input render.

104
00:06:27,970 --> 00:06:32,290
Aquí lo voy a poner una coma y le paso el get object or.

105
00:06:33,290 --> 00:06:34,290
404.

106
00:06:34,670 --> 00:06:36,700
Ahora sí, ya lo importé la función.

107
00:06:36,710 --> 00:06:38,840
Vamos a borrar los cambios y volvemos a probar.

108
00:06:40,020 --> 00:06:41,160
Estamos en laureles.

109
00:06:41,820 --> 00:06:49,500
Estor accesorios tech está en la categoría que me quiero que me dispare y ahora sí, ya me está devolviendo

110
00:06:49,500 --> 00:06:54,540
y me está indicando que hay tres productos que se encuentran en la categoría de accesorios tech.

111
00:06:54,840 --> 00:06:55,950
Vamos a probar con otra.

112
00:06:56,790 --> 00:07:01,560
A ver, por ejemplo, en esta categoría de ropa verano.

113
00:07:02,560 --> 00:07:03,070
Este es el.

114
00:07:03,880 --> 00:07:04,720
Voy a copiarlo.

115
00:07:07,530 --> 00:07:13,710
Vamos a la página y aquí en Laurel, en vez de accesorios tech, le pongo esa ropa de verano center

116
00:07:13,710 --> 00:07:19,530
y mira, ya me está haciendo el fieltro, me está devolviendo ahora los dos productos que pertenecen

117
00:07:19,530 --> 00:07:21,540
a la categoría Ropa de verano.

118
00:07:22,260 --> 00:07:24,120
Continuamos en el siguiente capítulo.
